(this.webpackJsonpfrontendolsoftware=this.webpackJsonpfrontendolsoftware||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},61:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),n=c(17),r=c.n(n),o=(c(46),c(7)),i=(c(47),c(48),c(10)),l=c.n(i),j=c(16),d=c(21),b=c(13),m=c(6),u=Object(a.createContext)(null),O=c(29),x=c.n(O);c(50);x.a.initializeApp({apiKey:"AIzaSyBSIRJwMSIlpFGXQJifMUWimUKA4i6i8FQ",authDomain:"pruebatecnicaol.firebaseapp.com",projectId:"pruebatecnicaol",storageBucket:"pruebatecnicaol.appspot.com",messagingSenderId:"511886935536",appId:"1:511886935536:web:3f457d0e1304ef6d29c935"});var h=x.a.firestore(),f=function(){var e=Object(m.f)(),t=Object(a.useContext)(u),c=t.currentUser,s=t.setcurrentUser,n=Object(a.useState)(c||{nombres:"",apellidos:"",identificacion:"",rol:"",estado:"",telefono:"",correo:"",password:""}),r=Object(o.a)(n,2),i=r[0],O=r[1],x=Object(a.useContext)(u),f=x.dataSearch,p=x.setDataSearch;return[function(e){var t=e.target;p(Object(b.a)(Object(b.a)({},f),{},Object(d.a)({},t.name,t.value)))},function(e){e.preventDefault()},f,function(){p({nombres:"",apellidos:"",identificacion:"",rol:"",estado:"",telefono:"",correo:"",password:""})},function(e){var t=e.target;O(Object(b.a)(Object(b.a)({},i),{},Object(d.a)({},t.name,t.value)))},i,function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").doc().set(i);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").doc(t).update(i);case 2:s("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var t=Object(j.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=[],t.next=3,h.collection("users").where("correo","==",i.correo).get().then((function(e){e.forEach((function(e){c.push(Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id}))}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 3:i.correo&&c[0]&&(i.correo===c[0].correo&&i.password===c[0].password?(s(c),setTimeout((function(){e.push("/app")}),2e3)):(alert("credenciales incorrectas"),s("")));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()]},p=c(19),v=c(20),N=c(1),C=function(){var e=f(),t=Object(o.a)(e,4),c=t[0],a=t[1],s=t[2],n=s.nombres,r=s.apellidos,i=s.identificacion,l=s.rol,j=s.estado,d=s.telefono,b=s.correo,m=t[3];return Object(N.jsx)("div",{className:"filter",children:Object(N.jsxs)("form",{className:"formFilter",onSubmit:a,children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(p.a,{icon:v.b}),"Filtrar busqueda"]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"Nombres",className:"form-label",children:"Nombres"}),Object(N.jsx)("input",{name:"nombres",type:"text",className:"form-control",value:n,id:"Nombres",placeholder:"Juan Felipe",onChange:c})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"Apellidos",className:"form-label",children:"Apellidos"}),Object(N.jsx)("input",{name:"apellidos",type:"text",className:"form-control",value:r,id:"Apellidos",placeholder:"Bernal Martinez",onChange:c})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"Identificacion",className:"form-label",children:"Identificacion"}),Object(N.jsx)("input",{name:"identificacion",type:"text",className:"form-control",value:i,id:"identificacion",placeholder:"CC",onChange:c})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"Rol",className:"form-label",children:"Rol"}),Object(N.jsx)("input",{name:"rol",type:"text",className:"form-control",id:"Rol",value:l,placeholder:"Rol en la empresa",onChange:c})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"Estado",className:"form-label",children:"Estado"}),Object(N.jsx)("input",{name:"estado",type:"text",className:"form-control",id:"Estado",value:j,placeholder:"Activo o Inactivo",onChange:c})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"Telefono",className:"form-label",children:"Telefono"}),Object(N.jsx)("input",{name:"telefono",type:"text",className:"form-control",id:"Telefono",value:d,placeholder:"+57 31021321322",onChange:c})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"Email",className:"form-label",children:"Email"}),Object(N.jsx)("input",{name:"correo",type:"Email",className:"form-control",id:"Email",value:b,placeholder:"@gmail.com, @outlook.com",onChange:c})]}),Object(N.jsx)("button",{onClick:m,className:"btn btn-primary",children:"Limpiar Filtro"})]})})},g=(c(61),c(68)),w=function(e){var t=Object(a.useContext)(u).currentUser,c=f(),s=Object(o.a)(c,8),n=s[1],r=s[4],i=s[5],l=i.nombres,j=i.apellidos,d=i.identificacion,b=i.rol,m=i.estado,O=i.telefono,x=i.correo,h=i.password,p=s[6],v=s[7],C=e.handleClose,g=e.userId,w=Object(a.useState)(!0),y=Object(o.a)(w,1)[0];return Object(N.jsx)("div",{children:y?Object(N.jsxs)("form",{className:"formPostUser",onSubmit:n,children:[Object(N.jsxs)("div",{className:"inputForm2",children:[Object(N.jsx)("label",{for:"Nombres",className:"form-label",children:"Nombres"}),Object(N.jsx)("input",{name:"nombres",type:"text",className:"form-control",value:l,id:"Nombres",onChange:r})]}),Object(N.jsxs)("div",{className:"inputForm2",children:[Object(N.jsx)("label",{for:"Apellidos",className:"form-label",children:"Apellidos"}),Object(N.jsx)("input",{name:"apellidos",type:"text",className:"form-control",value:j,onChange:r})]}),Object(N.jsxs)("div",{className:"inputForm2",children:[Object(N.jsx)("label",{for:"Identificacion",className:"form-label",children:"Identificacion"}),Object(N.jsx)("input",{name:"identificacion",type:"text",className:"form-control",value:d,id:"identificacion",onChange:r})]}),Object(N.jsxs)("div",{className:"inputForm2",children:[Object(N.jsx)("label",{for:"Rol",className:"form-label",children:"Rol"}),Object(N.jsx)("input",{name:"rol",type:"text",className:"form-control",id:"Rol",value:b,onChange:r})]}),Object(N.jsxs)("div",{className:"inputForm2",children:[Object(N.jsx)("label",{for:"Estado",className:"form-label",children:"Estado"}),Object(N.jsx)("input",{name:"estado",type:"text",className:"form-control",id:"Estado",value:m,onChange:r})]}),Object(N.jsxs)("div",{className:"inputForm2",children:[Object(N.jsx)("label",{for:"Telefono",className:"form-label",children:"Telefono"}),Object(N.jsx)("input",{name:"telefono",type:"text",className:"form-control",id:"Telefono",value:O,onChange:r})]}),Object(N.jsxs)("div",{className:" inputForm2 mb-3",children:[Object(N.jsx)("label",{for:"Email",className:"form-label",children:"Email"}),Object(N.jsx)("input",{name:"correo",type:"Email",className:"form-control",id:"Email",value:x,onChange:r})]}),Object(N.jsxs)("div",{className:" inputForm2 mb-3",children:[Object(N.jsx)("label",{for:"password",className:"form-label",children:"Contrase\xf1a"}),Object(N.jsx)("input",{name:"password",type:"password",className:"form-control",id:"password",value:h,onChange:r})]}),Object(N.jsxs)("div",{className:"btnNewUser",children:[Object(N.jsx)("button",{onClick:t?function(){return v(g)}:function(){return p()},className:"btn btn-success btnAceptar",children:"Aceptar"}),Object(N.jsx)("button",{onClick:function(){return C()},className:"btn btn-success btnAceptar",children:" Cerrar "})]})]}):"Su lista ha sido agregada con exito!"})},y=(c(36),function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],n=c[1],r=function(){n(!1)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("button",{onClick:function(){return n(!0)},className:"btn btn-outline-primary btnCreate",children:" Crear Usuario"}),Object(N.jsxs)(g.a,{className:"modalEdit",show:s,onHide:r,children:[Object(N.jsx)(g.a.Header,{closeButton:!0,children:Object(N.jsx)(g.a.Title,{children:"Agregar nuevo usuario"})}),Object(N.jsx)(g.a.Body,{className:"modalEdit",children:Object(N.jsx)(w,{handleClose:r})})]})]})}),F=function(e){var t=e.userId,c=Object(a.useState)(!1),s=Object(o.a)(c,2),n=s[0],r=s[1],i=function(){r(!1)},d=Object(a.useContext)(u).setcurrentUser,m=function(){var e=Object(j.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("users").doc(t).get();case 2:c=e.sent,d(Object(b.a)({},c.data())),r(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(p.a,{onClick:function(){m(t)},icon:v.a}),Object(N.jsxs)(g.a,{show:n,onHide:i,children:[Object(N.jsx)(g.a.Header,{closeButton:!0,children:Object(N.jsx)(g.a.Title,{children:"Editar usuario"})}),Object(N.jsx)(g.a.Body,{children:Object(N.jsx)(w,{userId:t,handleClose:i})})]})]})},S=function(){var e=Object(a.useContext)(u),t=e.dataUsers,c=e.setDataUsers,s=Object(a.useContext)(u).dataSearch,n=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("are you sure you want to delete this link?")){e.next=3;break}return e.next=3,h.collection("users").doc(t).delete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.collection("users").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id}))})),c(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r()}),[t]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"Head",children:Object(N.jsx)("span",{children:"Usuarios existentes"})}),Object(N.jsxs)("div",{className:"titleBoard",children:[Object(N.jsx)("span",{children:"Usuarios existentes"}),Object(N.jsx)(y,{})]}),Object(N.jsxs)("table",{className:"table tableUser flex-wrap",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"Nombres"}),Object(N.jsx)("th",{scope:"col",children:"Apellidos"}),Object(N.jsx)("th",{scope:"col",children:"Identificacion"}),Object(N.jsx)("th",{scope:"col",children:"Rol asociado"}),Object(N.jsx)("th",{scope:"col",children:"Estado"}),Object(N.jsx)("th",{scope:"col",children:"Telefono"}),Object(N.jsx)("th",{scope:"col",children:"Correo"}),Object(N.jsx)("th",{scope:"col"})]})}),Object(N.jsx)("tbody",{children:t.filter?t.filter((function(e){return e.nombres.toLowerCase().includes(s.nombres.toLowerCase())&&e.apellidos.toLowerCase().includes(s.apellidos.toLowerCase())&&e.rol.toLowerCase().includes(s.rol.toLowerCase())&&e.estado.toLowerCase().includes(s.estado.toLowerCase())&&e.correo.toLowerCase().includes(s.correo.toLowerCase())&&e.telefono.includes(s.telefono)&&e.identificacion.includes(s.identificacion)})).map((function(e){var t=e.nombres,c=e.apellidos,a=e.identificacion,s=e.rol,r=e.estado,o=e.telefono,i=e.correo;return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t}),Object(N.jsx)("td",{children:c}),Object(N.jsx)("td",{children:a}),Object(N.jsx)("td",{children:s}),Object(N.jsx)("td",{children:r}),Object(N.jsx)("td",{children:o}),Object(N.jsx)("td",{children:i}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{children:[Object(N.jsx)(F,{userId:e.id}),Object(N.jsx)(p.a,{onClick:function(){n(e.id)},icon:v.c})]})})]},a)})):Object(N.jsx)("div",{children:"Loading...."})})]})]})},E=c(40),I=c(11),U=[{title:"Programacion rutas",path:"/",icon:Object(N.jsx)(I.c,{}),cName:"nav-text"},{title:"Gestion de operaciones",path:"/reports",icon:Object(N.jsx)(I.d,{}),cName:"nav-text"},{title:"Perfiles",path:"/products",icon:Object(N.jsx)(I.f,{}),cName:"nav-text"},{title:"Roles",path:"/team",icon:Object(N.jsx)(I.b,{}),cName:"nav-text"},{title:"Usuario",path:"/messages",icon:Object(N.jsx)(I.e,{}),cName:"nav-text"},{title:"Reportes",path:"/support",icon:Object(N.jsx)(I.a,{}),cName:"nav-text"}];c(63);var k=function(){var e=Object(a.useContext)(u),t=e.sidebar,c=e.setsidebar,s=function(){return c(!t)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"navbar d-flex",children:[Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(E.a,{onClick:s})}),Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(I.c,{})}),Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(I.d,{})}),Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(I.f,{})}),Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(I.b,{})}),Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(I.e,{})}),Object(N.jsx)("div",{className:"icon",children:Object(N.jsx)(I.a,{})})]}),Object(N.jsx)("nav",{className:t?"nav-menu active":"nav-menu",children:Object(N.jsxs)("div",{className:"nav-menu-items",onClick:s,children:[Object(N.jsx)("li",{className:"navbar-toggle",children:Object(N.jsx)("div",{className:"titleBar",children:"OLSoftware"})}),U.map((function(e,t){return Object(N.jsxs)("div",{className:e.cName,children:[Object(N.jsx)("div",{className:"icon",children:e.icon}),Object(N.jsx)("div",{className:"title",children:e.title})]},t)}))]})})]})},L=(c(64),function(){var e=Object(a.useContext)(u).sidebar;return Object(N.jsxs)("div",{className:"col d-flex flex-wrap ",children:[Object(N.jsx)("div",{className:e?"   navOn col-sm-12":" navOff col-sm-12 ",children:Object(N.jsx)(k,{})}),Object(N.jsx)("div",{className:e?"userInfo col-md-8 col-sm-12 white":"userInfo col-md-9 col-sm-12 white",children:Object(N.jsx)(S,{})}),Object(N.jsx)("div",{className:"filterUser col-md-2 col-sm-12 white",children:Object(N.jsx)(C,{})})]})}),A=c(28),B=(c(37),function(){var e=f(),t=Object(o.a)(e,9),c=t[1],a=t[4],s=t[8];return Object(N.jsxs)("form",{className:"LoginForm",onSubmit:c,children:[Object(N.jsx)("div",{className:"tituloFormLogin mb-5",children:" Inicio de sesi\xf3n"}),Object(N.jsx)("div",{className:"mb-2 mt-3",children:Object(N.jsx)("input",{type:"email",name:"correo",className:"form-control inputForm",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:a,placeholder:"Usuario"})}),Object(N.jsx)("div",{className:"mb-4",children:Object(N.jsx)("input",{type:"password",name:"password",className:"form-control inputForm",id:"exampleInputPassword1",onChange:a,placeholder:"Password"})}),Object(N.jsx)("button",{onClick:s,className:"btnForm btn btn-primary mt-5",children:"Inicia sesi\xf3n"})]})}),T=(c(65),function(){return Object(N.jsxs)("div",{className:"containerLoader",id:"contenedor",children:[Object(N.jsx)("div",{className:"titlePreloader",children:"Estamos preparando todo para ti..."}),Object(N.jsx)("div",{className:"loader",id:"loader",children:"Loading..."})]})}),R=function(){var e=Object(a.useContext)(u).currentUser;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"imgLogin",children:[Object(N.jsx)("img",{className:"effectCircle",src:"https://previews.123rf.com/images/satina/satina1410/satina141000009/32455981-paisaje-de-oto%C3%B1o.jpg",alt:""}),Object(N.jsx)(B,{}),e&&Object(N.jsx)(T,{})]})})};var P=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(),r=Object(o.a)(n,2),i=r[0],l=r[1],j=Object(a.useState)([]),d=Object(o.a)(j,2),b=d[0],O=d[1],x=Object(a.useState)(),h=Object(o.a)(x,2),f=h[0],p=h[1],v=Object(a.useState)({nombres:"",apellidos:"",identificacion:"",rol:"",estado:"",telefono:"",correo:""}),C=Object(o.a)(v,2),g=C[0],w=C[1];return Object(N.jsx)(u.Provider,{value:{dataUsers:b,setDataUsers:O,dataSearch:g,setDataSearch:w,sidebar:c,setsidebar:s,currentUser:i,setcurrentUser:l,activeSession:f,setactiveSession:p},children:Object(N.jsx)(A.a,{children:Object(N.jsxs)(m.c,{children:[Object(N.jsx)(m.a,{exact:!0,path:"/",component:R}),Object(N.jsx)(m.a,{exact:!0,path:"/app",component:L})]})})})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,69)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(P,{})}),document.getElementById("root")),D()}},[[66,1,2]]]);
//# sourceMappingURL=main.f66b908f.chunk.js.map